<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trustworthy Product Reviews – Dashboard</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script>
        window.__SUPABASE_URL__ = 'https://yoeskespkkrctuxgezee.supabase.co';
        window.__SUPABASE_ANON_KEY__ = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlvZXNrZXNwa2tyY3R1eGdlemVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1OTMyNzUsImV4cCI6MjA3NzE2OTI3NX0.FtDQiqVaFliz40lx8-w_p7E4EIBiX5SiRDdSPDQVY4o';
    </script>
</head>
<body data-page="app">
<header class="app-header">
    <div class="app-header__info">
        <h1>Trustworthy Product Reviews</h1>
        <p id="user-greeting">Loading profile…</p>
    </div>
    <nav class="app-header__actions">
        <div class="profile-dropdown">
            <button class="profile-button" id="profile-toggle">
                <span id="profile-name">Loading...</span>
                <span class="dropdown-arrow">▼</span>
            </button>
            <div class="profile-menu" id="profile-menu">
                <div class="profile-menu__header">
                    <h3 id="profile-menu-name">Loading...</h3>
                    <p id="profile-menu-email">Loading...</p>
                </div>
                <div class="profile-menu__content">
                    <h4>Account Settings</h4>
                    <div class="profile-menu__links">
                        <button class="link" id="change-display-name-link">Change Display Name</button>
                        <button class="link" id="change-password-link">Change Password</button>
                    </div>
                </div>
                <div class="profile-menu__footer">
                    <button class="button button--danger button--small" id="logout-button">Log out</button>
                </div>
            </div>
        </div>
    </nav>
</header>
<main class="dashboard">
    <section class="dashboard__sidebar">
        <article class="panel">
            <h2>Quick Actions</h2>
            <p>More features coming soon!</p>
        </article>
    </section>
    <section class="dashboard__content">
        <div class="welcome-panel">
            <h2>Welcome to Your Dashboard</h2>
            <p>This is your personal homepage. Features will be added here step by step as the platform is developed.</p>
            <div class="coming-soon">
                <h3>soon to be implemented</h3>
                <ul>
                    <li>Write and manage product reviews</li>
                    <li>Follow trusted reviewers</li>
                    <li>Browse products by category and rating</li>
                    <li>Discover similar users</li>
                    <li>View trust network analytics</li>
                    <li>See community leaders</li>
                </ul>
            </div>
        </div>
    </section>
</main>
<!-- Account Settings Modals -->
<div class="modal" id="display-name-modal">
    <div class="modal__content">
        <div class="modal__header">
            <h3>Change Display Name</h3>
            <button class="modal__close" id="close-display-name-modal">&times;</button>
        </div>
        <form id="profile-form" class="modal__form" novalidate>
            <label class="auth__field">
                <span>Display name</span>
                <input type="text" id="profile-display-name" maxlength="80" placeholder="Display name">
            </label>
            <div class="modal__actions">
                <button type="button" class="button button--ghost" id="cancel-display-name">Cancel</button>
                <button type="submit" class="button">Save Changes</button>
            </div>
            <p class="auth__status" id="profile-status"></p>
        </form>
    </div>
</div>

<div class="modal" id="password-modal">
    <div class="modal__content">
        <div class="modal__header">
            <h3>Change Password</h3>
            <button class="modal__close" id="close-password-modal">&times;</button>
        </div>
        <form id="password-form" class="modal__form" novalidate>
            <label class="auth__field">
                <span>New password</span>
                <input type="password" id="profile-password" minlength="6" placeholder="New password">
            </label>
            <div class="modal__actions">
                <button type="button" class="button button--ghost" id="cancel-password">Cancel</button>
                <button type="submit" class="button">Update Password</button>
            </div>
            <p class="auth__status" id="password-status"></p>
        </form>
    </div>
</div>

<footer class="footer">&copy; <span id="year"></span> Trustworthy Product Reviews.</footer>

<script type="module" src="js/auth.js"></script>
<script type="module" src="js/app.js"></script>
</body>
</html>
